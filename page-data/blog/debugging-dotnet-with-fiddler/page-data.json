{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/debugging-dotnet-with-fiddler/","result":{"data":{"markdownRemark":{"html":"<h1>Fiddler</h1>\n<p>Fiddler is a web debugger. You can use it to intercept web requests made by the browser, capture the data sent, replay etc. There are a number of other similar products such as PostMan, or Insomnia but the basic concept is the same.</p>\n<p>When using the interceptor, a system wide proxy is set, and the browsers respect this causing the web requests to be sent via the Fiddler proxy where the data can be inspected, a cert can be installed to decrypt HTTPS</p>\n<h1>The DotNet Issue</h1>\n<p>Fiddler works fine out of the box where we want to inspect requests made by the browser, but it will not allow us to inspect the web requests made by our DotNet service as it does not respect the system proxy setting. We need to configure our application to respect the system proxy settings.</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token class-name\">IWebProxy</span> proxy <span class=\"token operator\">=</span> WebRequest<span class=\"token punctuation\">.</span><span class=\"token function\">GetSystemWebProxy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nproxy<span class=\"token punctuation\">.</span>Credentials <span class=\"token operator\">=</span> CredentialCache<span class=\"token punctuation\">.</span>DefaultCredentials<span class=\"token punctuation\">;</span>\nHttpClient<span class=\"token punctuation\">.</span>DefaultProxy <span class=\"token operator\">=</span> proxy<span class=\"token punctuation\">;</span></code></pre></div>\n<p>I put this into the constructor of my <code class=\"language-text\">Startup</code> class. It works for me, I plan to remove the code once I'm done with debugging, but you could put a debug clause around it if you wanted to leave it there in production.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6c17c253b8dcc94a14f9e9e6254902f3/9cab2/Fiddler.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.513513513513512%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAACE3AAAhNwEzWJ96AAAAnklEQVQI1wXB3Q6CIBgAUN//uVoXLbc2LyqUf/yA+BWypovZOd2acrGu+tBaC1wELjxj5vE0E7b2pUEvS6m13kdCwE/KcZts2eKnhfXXJe+dNs7afd9mRmfGBCYUIYZGjDGl1PuQc0ZEuLqdLrfzdUDcUAiTfHWlrD6UmOpxHEo5qRxoI9U8A0gphRAA8K4VEW7ytx9QP4zcJGYi0/EPX6yibyeVW3YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Fiddler\"\n        title=\"Fiddler\"\n        src=\"/static/6c17c253b8dcc94a14f9e9e6254902f3/fcda8/Fiddler.png\"\n        srcset=\"/static/6c17c253b8dcc94a14f9e9e6254902f3/12f09/Fiddler.png 148w,\n/static/6c17c253b8dcc94a14f9e9e6254902f3/e4a3f/Fiddler.png 295w,\n/static/6c17c253b8dcc94a14f9e9e6254902f3/fcda8/Fiddler.png 590w,\n/static/6c17c253b8dcc94a14f9e9e6254902f3/9cab2/Fiddler.png 864w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>","frontmatter":{"date":"6 months ago","title":"Debugging DotNet with Fiddler","author":"Matt McCorry","tags":"Fiddler,DotNet"}}},"pageContext":{"slug":"/debugging-dotnet-with-fiddler/"}},"staticQueryHashes":["3460496508"]}